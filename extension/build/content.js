let script;const inject=e=>{script=document.createElement("script"),script.setAttribute("type","text/javascript"),script.setAttribute("src",chrome.runtime.getURL(e)),document.body.appendChild(script)};inject("inject.js"),window.addEventListener("message",(e=>{e.data.type&&"EVENT_LIST"===e.data.type&&chrome.runtime.sendMessage({action:e.data.type,data:e.data.eventListStr})})),chrome.runtime.onMessage.addListener(((e,t,n)=>{const s=new CustomEvent("CustomEventFromContentScript",{detail:{message:"Hello from content script!"}});document.dispatchEvent(s)}));const windowListener=e=>{if(e.source===window&&e.data.type&&"react-query-rewind"===e.data.type){console.log("Message from the window:",e.data.payload);const t=e.data.payload;chrome.runtime.sendMessage({sender:"content script",message:t})}};window.addEventListener("message",windowListener);const messageListener=async(e,t,n)=>{if("UpdateUI"===e.sender){const t=new CustomEvent("UpdateUI",{detail:{currentQuery:e.currentQuery}});window.dispatchEvent(t)}if("TimeTravel"===e.sender){const t=new CustomEvent("TimeTravel",{detail:{timeTravel:e.timeTravel}});window.dispatchEvent(t)}return!0};chrome.runtime.onMessage.addListener(messageListener),chrome.runtime.onMessage.addListener((function(e,t,n){"reloadPage"===e.type&&window.location.reload()}));