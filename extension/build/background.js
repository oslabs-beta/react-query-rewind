let devToolsPort=null;const connectListener=e=>{"devtools-panel"===e.name&&(devToolsPort=e)};chrome.runtime.onConnect.addListener(connectListener);const messageListener=async(e,n,t)=>("content script"===e.sender&&null!==devToolsPort&&devToolsPort.postMessage({event:e.message,type:"event"}),"UpdateUI"===e.sender&&chrome.tabs.query({active:!0,currentWindow:!0},(function(n){chrome.tabs.sendMessage(n[0].id,{sender:"UpdateUI",currentQuery:e.currentQuery})})),"TimeTravel"===e.sender&&chrome.tabs.query({active:!0,currentWindow:!0},(function(n){chrome.tabs.sendMessage(n[0].id,{sender:"TimeTravel",timeTravel:e.timeTravel})})),!0);chrome.runtime.onMessage.addListener(messageListener),chrome.runtime.onSuspend.addListener((()=>{chrome.runtime.onConnect.removeListener(connectListener),chrome.runtime.onMessage.removeListener(messageListener)})),chrome.runtime.onMessage.addListener((function(e,n,t){"devtoolsOpened"===e.type&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{type:"reloadPage"})}))}));